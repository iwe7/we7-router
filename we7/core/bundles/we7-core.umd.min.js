!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@delon/theme"),require("@delon/acl"),require("@delon/auth"),require("@angular/router"),require("rxjs/observable/of"),require("rxjs/operators"),require("ng-zorro-antd")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common/http","@delon/theme","@delon/acl","@delon/auth","@angular/router","rxjs/observable/of","rxjs/operators","ng-zorro-antd"],t):t(e["we7-core"]={},e.ng.core,e.ng.common.http,e.theme,e.acl,e.auth,e.ng.router,e.Rx.Observable,e.Rx.Observable.prototype,e.ngZorroAntd)}(this,function(e,t,i,r,o,n,a,c,u,s){"use strict";var p=function(){function e(){this.queryParams={},this.queryParams=this.parseURL()}return e.prototype.parseURL=function(){var i={};return location.search.replace(/^\?/,"").split("&").filter(function(e,t){if(""!==e&&e.indexOf("="))return!0}).forEach(function(e,t){var r=e.indexOf("="),o=e.substring(0,r),n=e.substring(r+1);i[o]=n}),i},e.prototype.setQuerParams=function(e){return this.queryParams=e,this},e.prototype.get=function(e){return this.queryParams[e]},e.prototype.getUrl=function(e){return void 0===e&&(e={}),""+this.serializeQueryParams(Object.assign({},this.queryParams,e))},e.prototype.getMobileUrl=function(e,t){return void 0===t&&(t={}),t.a="site",t.c="entry",t.i=this.get("i")?this.get("i"):"2",t["do"]=e,location.protocol+"//"+location.host+"/app/index.php"+this.getUrl(t)},e.prototype.getWebUrl=function(e,t){return void 0===t&&(t={}),t.a="entry",t.c="site",t.i=this.get("i")?this.get("i"):"2",t["do"]=e,location.protocol+"//"+location.host+"/web/index.php"+this.getUrl(t)},e.prototype.serializeQueryParams=function(r){var o=this,e=Object.keys(r).map(function(t){var e=r[t];return Array.isArray(e)?e.map(function(e){return o.encodeUriQuery(t)+"="+o.encodeUriQuery(e)}).join("&"):o.encodeUriQuery(t)+"="+o.encodeUriQuery(e)});return e.length?"?"+e.join("&"):""},e.prototype.encodeUriQuery=function(e){return this.encodeUriString(e).replace(/%3B/gi,";")},e.prototype.encodeUriString=function(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},e}();p.decorators=[{type:t.Injectable}],p.ctorParameters=function(){return[]};var l=function(){function e(e,t,r,o,n,i,a,c){this.menuService=e,this.settingService=t,this.aclService=r,this.titleService=o,this.tokenService=n,this.httpClient=i,this.injector=a,this.we7=c}return e.prototype.load=function(){var e=this.we7.getWebUrl("open",{open:"appconfig"});this.httpClient.get(e).subscribe(function(e){console.log(e)})},e}();l.decorators=[{type:t.Injectable}],l.ctorParameters=function(){return[{type:r.MenuService},{type:r.SettingsService},{type:o.ACLService},{type:r.TitleService},{type:undefined,decorators:[{type:t.Inject,args:[n.DA_SERVICE_TOKEN]}]},{type:i.HttpClient},{type:t.Injector},{type:p}]};var h=function(){function e(e){this.injector=e}return Object.defineProperty(e.prototype,"msg",{get:function(){return this.injector.get(s.NzMessageService)},enumerable:!0,configurable:!0}),e.prototype.goTo=function(e){var t=this;setTimeout(function(){return t.injector.get(a.Router).navigateByUrl(e)})},e.prototype.handleData=function(e){switch(this.injector.get(r._HttpClient).end(),e.status){case 200:break;case 401:this.goTo("/passport/login");break;case 403:case 404:case 500:this.goTo("/"+e.status)}return c.of(e)},e.prototype.intercept=function(e,t){var r=this,o=e.url,n=e.clone({url:o});return t.handle(n).pipe(u.mergeMap(function(e){return e instanceof i.HttpResponse&&200===e.status?r.handleData(e):c.of(e)}),u.catchError(function(e){return r.handleData(e)}))},e}();h.decorators=[{type:t.Injectable}],h.ctorParameters=function(){return[{type:t.Injector}]},e.throwIfAlreadyLoaded=function(e,t){if(e)throw new Error(t+" has already been loaded. Import Core modules in the AppModule only.")},e.We7Service=p,e.StartupService=l,e.DefaultInterceptor=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=we7-core.umd.min.js.map
